{% extends 'admin_panel/base.html' %}

{% block title %}üéÅ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Giveaway{% endblock %}

{% block content %}
<div class="container-fluid">
    <div class="row">
        <div class="col-12">
            <div class="card">
                <div class="card-header">
                    <h3 class="card-title">üéÅ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ Giveaway</h3>
                    <div class="card-tools">
                        <button type="button" class="btn btn-success" onclick="startGiveaway()">
                            <i class="fas fa-play"></i> –ó–∞–ø—É—Å—Ç–∏—Ç—å Giveaway
                        </button>
                        <button type="button" class="btn btn-warning" onclick="pauseGiveaway()">
                            <i class="fas fa-pause"></i> –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
                        </button>
                    </div>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="card bg-gradient-primary">
                                <div class="card-body text-white">
                                    <h5><i class="fas fa-trophy"></i> –°—Ç–∞—Ç—É—Å Giveaway</h5>
                                    {% if giveaway.active %}
                                    <div class="d-flex align-items-center">
                                        <div class="spinner-border spinner-border-sm mr-2" role="status"></div>
                                        <span>–ê–∫—Ç–∏–≤–µ–Ω</span>
                                    </div>
                                    {% else %}
                                    <span><i class="fas fa-pause"></i> –û—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω</span>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="card bg-gradient-info">
                                <div class="card-body text-white">
                                    <h5><i class="fas fa-users"></i> –£—á–∞—Å—Ç–Ω–∏–∫–∏</h5>
                                    <h3>{{ giveaway.participants }}</h3>
                                    <small>—á–µ–ª–æ–≤–µ–∫ —É—á–∞—Å—Ç–≤—É–µ—Ç</small>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row mt-4">
                        <div class="col-md-8">
                            <div class="card">
                                <div class="card-header">
                                    <h5 class="card-title">üì± Telegram-–ø–∞–ø–∫–∞ –¥–ª—è Giveaway</h5>
                                </div>
                                <div class="card-body">
                                    <div class="form-group">
                                        <label>–ü–∞–ø–∫–∞ Telegram</label>
                                        <div class="input-group">
                                            <input type="text" class="form-control" value="{{ giveaway.telegram_folder }}" readonly>
                                            <div class="input-group-append">
                                                <button class="btn btn-outline-primary" onclick="openTelegramFolder()">
                                                    <i class="fab fa-telegram"></i> –û—Ç–∫—Ä—ã—Ç—å
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="form-group">
                                        <label>–ü—Ä–∏–∑</label>
                                        <input type="text" class="form-control" value="{{ giveaway.prize }}" id="prizeInput">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label>–û–ø–∏—Å–∞–Ω–∏–µ</label>
                                        <textarea class="form-control" rows="3" placeholder="–û–ø–∏—Å–∞–Ω–∏–µ Giveaway..."></textarea>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <div class="col-md-4">
                            <div class="card">
                                <div class="card-header">
                                    <h5 class="card-title">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</h5>
                                </div>
                                <div class="card-body">
                                    <div class="form-group">
                                        <label>–î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞</label>
                                        <input type="datetime-local" class="form-control" value="2025-08-05T10:00">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label>–î–∞—Ç–∞ –æ–∫–æ–Ω—á–∞–Ω–∏—è</label>
                                        <input type="datetime-local" class="form-control" value="2025-08-12T23:59">
                                    </div>
                                    
                                    <div class="form-group">
                                        <label>–ú–∞–∫—Å–∏–º—É–º —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤</label>
                                        <input type="number" class="form-control" value="1000">
                                    </div>
                                    
                                    <div class="form-group">
                                        <div class="custom-control custom-switch">
                                            <input type="checkbox" class="custom-control-input" id="autoWinner" checked>
                                            <label class="custom-control-label" for="autoWinner">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –≤—ã–±–æ—Ä –ø–æ–±–µ–¥–∏—Ç–µ–ª—è</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="row mt-4">
                        <div class="col-12">
                            <div class="card">
                                <div class="card-header">
                                    <h5 class="card-title">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h5>
                                </div>
                                <div class="card-body">
                                    <div class="row text-center">
                                        <div class="col-md-3">
                                            <div class="border rounded p-3">
                                                <h4 class="text-primary">{{ giveaway.participants }}</h4>
                                                <small class="text-muted">–£—á–∞—Å—Ç–Ω–∏–∫–æ–≤</small>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="border rounded p-3">
                                                <h4 class="text-success">7</h4>
                                                <small class="text-muted">–î–Ω–µ–π –æ—Å—Ç–∞–ª–æ—Å—å</small>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="border rounded p-3">
                                                <h4 class="text-warning">1</h4>
                                                <small class="text-muted">–ü–æ–±–µ–¥–∏—Ç–µ–ª—å</small>
                                            </div>
                                        </div>
                                        <div class="col-md-3">
                                            <div class="border rounded p-3">
                                                <h4 class="text-info">85%</h4>
                                                <small class="text-muted">–ó–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ—Å—Ç—å</small>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
function startGiveaway() {
    if (confirm('–ó–∞–ø—É—Å—Ç–∏—Ç—å Giveaway?')) {
        alert('Giveaway –∑–∞–ø—É—â–µ–Ω!');
    }
}

function pauseGiveaway() {
    if (confirm('–û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Giveaway?')) {
        alert('Giveaway –æ—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω!');
    }
}

function openTelegramFolder() {
    // –õ–æ–≥–∏–∫–∞ –æ—Ç–∫—Ä—ã—Ç–∏—è Telegram-–ø–∞–ø–∫–∏
    alert('–û—Ç–∫—Ä—ã—Ç–∏–µ Telegram-–ø–∞–ø–∫–∏ –¥–ª—è Giveaway');
}

// –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–∏–∑–∞
document.getElementById('prizeInput').addEventListener('change', function() {
    alert('–ü—Ä–∏–∑ –æ–±–Ω–æ–≤–ª–µ–Ω: ' + this.value);
});
</script>
{% endblock %} 